<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="细数 2020 年官方对 Android 的重大更新"><meta name="keywords" content="最新咨询"><meta name="author" content="Joker"><meta name="copyright" content="Joker"><title>细数 2020 年官方对 Android 的重大更新 | Joker's Blog</title><link rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.7.0"><link rel="stylesheet" href="/css/iconfont.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  }
} </script><meta name="generator" content="Hexo 4.2.0"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Android-11"><span class="toc-number">1.</span> <span class="toc-text">Android 11</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#API-更新"><span class="toc-number">2.</span> <span class="toc-text">API 更新</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Android-Studio-4-0"><span class="toc-number">3.</span> <span class="toc-text">Android Studio 4.0</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Android-Jetpack"><span class="toc-number">4.</span> <span class="toc-text">Android Jetpack</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Kotlin"><span class="toc-number">5.</span> <span class="toc-text">Kotlin</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/avatar.jpg"></div><div class="author-info__name text-center">Joker</div><div class="author-info__description text-center">分享生活感悟、技术、学习心得</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">48</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">43</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">8</span></a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Joker's Blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">首页</a><a class="site-page" href="/archives">目录</a><a class="site-page" href="/tags">标签</a><a class="site-page" href="/categories">分类</a><a class="site-page" href="/about">关于我</a></span><span class="pull-right"></span></div><div id="post-info"><div id="post-title">细数 2020 年官方对 Android 的重大更新</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-11-14</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Android/">Android</a></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p>不知不觉，2020 年也已到了接近尾声了，今年虽然困难重重，但是 Android 社区的更新热情却并未消减 ，Google I/O 大会取消的同时，官方也为我们提供了一系列优质的节目： <a href="https://developer.android.com/series/now-in-android" target="_blank" rel="noopener">Now In Android</a> 、<a href="https://www.youtube.com/playlist?list=PLWz5rJ2EKKc_T0fSZc9obnmnWcjvmJdw_" target="_blank" rel="noopener">Kotlin Vocabulary</a>、<a href="https://developer.android.com/11weeksofandroid" target="_blank" rel="noopener">11 Weeks of Android</a>。本篇文章就带大家看一看今年以来 Android 相关最新的动态，尝鲜我们今后可以使用的功能。</p>
<h3 id="Android-11"><a href="#Android-11" class="headerlink" title="Android 11"></a>Android 11</h3><p><a href="https://developer.android.com/about/versions/11" target="_blank" rel="noopener">Android 11</a> 于今年 9 月 9 日发行正式发布，随之而来的是一系列全新的功能和特性，苹果看了直呼眼馋：</p>
<ul>
<li><a href="https://developer.android.com/about/versions/11/features/5g" target="_blank" rel="noopener">支持 5G</a></li>
<li><a href="https://developer.android.com/guide/topics/ui/conversations" target="_blank" rel="noopener">聊天气泡和对话框更新</a></li>
<li><a href="https://developer.android.com/about/versions/11/features#screens" target="_blank" rel="noopener">适配水滴屏和折叠屏 </a></li>
<li><a href="https://developer.android.com/about/versions/11/privacy" target="_blank" rel="noopener">隐私协议更新</a></li>
</ul>
<p>Android 11 后，带有相关快捷方式的通知可以从聊天的通知栏中直接启动气泡。</p>
<p><img src="https://cdn.jsdelivr.net/gh/meandni/blogimg@main/uPic/conversations-bubble-20201026131259030.gif" alt="从通知栏中作为气泡启动通知"></p>
<p>Android 11 可以为新的设备传感器提供了 <code>TYPE_HINGE_ANGLE</code> 和 <code>SensorEvent</code> 来监视屏幕角度的变化，帮助我们做适配工作。</p>
<p><img src="https://cdn.jsdelivr.net/gh/meandni/blogimg@main/uPic/fold-out-app-continuity.gif" alt="折叠屏幕状态改变"></p>
<p><img src="https://cdn.jsdelivr.net/gh/meandni/blogimg@main/img/2020-11-14-image-20201026145638809.png" alt="Android 可折叠设备"></p>
<p>开发者也可以使用 Jetpack 的  <a href="https://developer.android.com/jetpack/androidx/releases/window" target="_blank" rel="noopener">Window Manager</a>，调用 <code>DeviceStage.getPosture()</code> 获取当前设备的折叠状态，详情请看 <a href="https://developer.android.com/guide/topics/ui/foldables#hinge_angle" target="_blank" rel="noopener">Building apps for foldables</a>。</p>
<h3 id="API-更新"><a href="#API-更新" class="headerlink" title="API 更新"></a>API 更新</h3><p>Android 11 也带来了它的小老弟  <a href="https://developer.android.com/studio/releases/platforms#11" target="_blank" rel="noopener">Android SDK Version 30</a>，也更新了<a href="https://support.google.com/googleplay/android-developer/answer/113469#targetsdk" target="_blank" rel="noopener">Google Play 目标 API 要求</a>。</p>
<p>从今年 8 月开始，Google Play 将只接受 Android 10（API 29）版本以上的应用，从 2020 年 11 月开始，所有应用必须针对  Android 10 进行应用更新。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>API 级别要求</strong></th>
<th><strong>开始日期</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Android 8.0（API 级别 26）</td>
<td>2018 年 8 月 1 日：新应用必须符合2018 年 11 月 1 日：应用更新必须符合</td>
</tr>
<tr>
<td>Android 9（API 级别 28）</td>
<td>2019 年 8 月 1 日：新应用必须符合2019 年 11 月 1 日：应用更新必须符合</td>
</tr>
<tr>
<td>Android 10（API 级别 29）*</td>
<td>2020 年 8 月 3 日：新应用必须符合2020 年 11 月 2 日：应用更新必须符合</td>
</tr>
</tbody>
</table>
</div>
<p>如果你的应用还没有升级到 Android 10，现在是时候阅读 <a href="https://developer.android.com/about/versions/10/migration" target="_blank" rel="noopener">Android 10 迁移指南</a>，确保应用可以正常更新了。</p>
<h3 id="Android-Studio-4-0"><a href="#Android-Studio-4-0" class="headerlink" title="Android Studio 4.0"></a>Android Studio 4.0</h3><p>今年，Google 也在 Android Studio 上投入了很大精力，先后发布了两款 <a href="https://android-developers.googleblog.com/2020/05/android-studio-4.html" target="_blank" rel="noopener">Android Studio 4.0 </a>稳定版本： <a href="https://developer.android.com/studio/preview/features#4.1" target="_blank" rel="noopener">4.1</a> 和 <a href="https://developer.android.com/studio/preview/features#4.2" target="_blank" rel="noopener">4.2</a> 。</p>
<p>4.0 版本包含了很多我们期待已久的功能，如下：</p>
<ul>
<li><a href="https://developer.android.com/studio/releases#4-0-0-kts" target="_blank" rel="noopener">改进了对 Kotlin DSL 脚本文件的支持</a></li>
<li><a href="https://developer.android.com/studio/releases#4-0-0-motion-editor" target="_blank" rel="noopener">动态编辑器（Motion Editor）</a></li>
<li><a href="https://developer.android.com/studio/releases#4-0-0-build-analyzer" target="_blank" rel="noopener">构建分析器（Build analyzer）</a></li>
<li><a href="https://developer.android.com/studio/releases#4-0-0-live-templates" target="_blank" rel="noopener">Kotlin 版的 Android Live 模板</a></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/meandni/blogimg@main/img/2020-11-14-motion_animation_preview.gif" alt="动态编辑器（Motion Editor）"></p>
<p><img src="https://cdn.jsdelivr.net/gh/meandni/blogimg@main/uPic/build-attribution-critical-path.png" alt="检查 build 过程中最耗时的任务"></p>
<p><a href="https://developer.android.com/studio" target="_blank" rel="noopener">了解更多 Android Studio 的最新功能</a>。</p>
<h3 id="Android-Jetpack"><a href="#Android-Jetpack" class="headerlink" title="Android Jetpack"></a>Android Jetpack</h3><p>在国内，Android Jetpack 的发展趋势也已经势如破竹了，对于开发者而言，这是好消息也是坏消息，因为有了更好用的工具和开发库后，我们也已经学不动了，但相比逐步深入学习，了解他们各自的作用显然更重要。</p>
<p>Android Jetpack 的今年的更新主要包括：</p>
<ul>
<li><a href="https://developer.android.com/jetpack/compose" target="_blank" rel="noopener">Jetpack Compose</a> ，8 月低发布了 Compose 首个 <a href="https://android-developers.googleblog.com/2020/08/announcing-jetpack-compose-alpha.html" target="_blank" rel="noopener">Jetpack Compose alpha 版本</a>，目标就是对 Android UI 的构建方式进行彻底改革，Android 开发者也会引来全新的面貌。作为用于构建用户界面的 Kotlin 首次声明式 api，Jetpack Compose 更是朝着现代应用开发迈出的令人振奋的一步。要了解有关 Jetpack Compose 的更多内容，可以访问 <a href="https://developer.android.com/jetpack/compose/tutorial" target="_blank" rel="noopener">入门指南</a>。需要注意的是，尽管 Jetpack Compose 在飞速发展中，但依然不稳定，当前状态也还不足以投入生产环境。</li>
<li>ConstraintLayout 2.0.0 正式发布，并且 10 月份也发布了最新的 <a href="https://developer.android.com/jetpack/androidx/releases/constraintlayout#2.0.2" target="_blank" rel="noopener">ConstraintLayout 2.0.2 版本</a>。</li>
<li><a href="https://developer.android.com/jetpack/androidx/releases/work#2.4.0" target="_blank" rel="noopener">WorkManager 2.4.0</a> 开始支持 RxJava3 以及许多其他特性。</li>
<li><a href="https://developer.android.com/jetpack/androidx/releases/navigation#2.3.0" target="_blank" rel="noopener">Navigation 2.3</a>，增加了新的功能模块和测试组件。</li>
</ul>
<h3 id="Kotlin"><a href="#Kotlin" class="headerlink" title="Kotlin"></a>Kotlin</h3><p>Kotlin 及其生态在 2020 年也发生了翻天覆地的变化。今年，Kotlin 也迎来了最新里程碑式的版本 <a href="https://kotlinlang.org/docs/reference/whatsnew14.html" target="_blank" rel="noopener">kotlin1.4</a>，此版本包括许多新特性：</p>
<ul>
<li><p><a href="https://kotlinlang.org/docs/reference/whatsnew14.html#trailing-comma" target="_blank" rel="noopener">支持尾部逗号</a></p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">reformat</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">    str: <span class="type">String</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">    uppercaseFirstLetter: <span class="type">Boolean</span> = <span class="literal">true</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">    wordSeparator: <span class="type">Character</span> = <span class="string">' '</span>, <span class="comment">// 尾部逗号</span></span></span></span><br><span class="line"><span class="function"><span class="params">)</span></span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://kotlinlang.org/docs/reference/whatsnew14.html#sam-conversions-for-kotlin-interfaces" target="_blank" rel="noopener">Kotlin interfaces SAM (Single Abstract Method) </a></p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="keyword">interface</span> IntPredicate &#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">accept</span><span class="params">(i: <span class="type">Int</span>)</span></span>: <span class="built_in">Boolean</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> isEven = IntPredicate &#123; it % <span class="number">2</span> == <span class="number">0</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123; </span><br><span class="line">    println(<span class="string">"Is 7 even? - <span class="subst">$&#123;isEven.accept(<span class="number">7</span>)&#125;</span>"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://kotlinlang.org/docs/reference/whatsnew14.html#coroutine-debugger" target="_blank" rel="noopener">协程调试器</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/meandni/blogimg@main/uPic/coroutine-debugger-wn.png" alt="Debugging coroutines"></p>
</li>
<li><p><a href="https://kotlinlang.org/docs/reference/whatsnew14.html#kotlin-multiplatform" target="_blank" rel="noopener">Kotlin 多平台开发（ Kotlin Multiplatform）</a></p>
</li>
</ul>
<p>提到 Kotlin Multiplatform，官方也专门在 <a href="https://kotlinlang.org/lp/mobile/" target="_blank" rel="noopener">Kotlin Multiplatform Mobile</a> 上做了很大的改动，提供了 Android 和 iOS 的 Kotlin Multiplatform，<a href="https://kotlinlang.org/docs/mobile/getting-started.html" target="_blank" rel="noopener">点击查看 Kotlin Multiplatform 文档，样例，以及其它特性</a>，学习如何使用 kotlin 构建 Android、iOS 应用。</p>
<p><a href="https://ktor.io/" target="_blank" rel="noopener">Ktor</a>，Jetbrains 使用 Kotlin 构建异步客户端 / 服务器应用程序的框架，<a href="https://ktor.io/learn/" target="_blank" rel="noopener">ktor 最新文档和示例</a> 也在今年发布，这也将大大简化我们编写 Ktor 应用程序的方式。</p>
<p><strong>关注公众号「Meandni」，及时阅读最新前沿技术动态，不至于落后时代。</strong></p>
<p><img alt="扫一扫，关注「Meandni」" src="/images/qrcode_for_small.jpg" style="zoom:50%;" /></p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Joker</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://meandni.com/2020/11/14/android-2020/">https://meandni.com/2020/11/14/android-2020/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://meandni.com">Joker's Blog</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%9C%80%E6%96%B0%E5%92%A8%E8%AF%A2/">最新咨询</a></div><div class="post-qr-code"><div class="post-qr-code-item"><img class="post-qr-code__img" src="/img/alipay.jpg"><div class="post-qr-code__desc">支付宝打赏</div></div><div class="post-qr-code-item"><img class="post-qr-code__img" src="/img/wechat.png"><div class="post-qr-code__desc">微信打赏</div></div></div><div class="addthis_inline_share_toolbox pull-right"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5ebb714f13e60e34" async></script><nav id="pagination"><div class="prev-post pull-left"><a href="/2020/11/16/my-book/"><i class="fa fa-chevron-left">  </i><span>我的新书《Flutter 开发之旅从南到北》终于和大家见面了。</span></a></div><div class="next-post pull-right"><a href="/2020/11/05/demystifying-responsive-layout-in-flutter/"><span>Flutter 应用适配（自适应布局组件实践）</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: '12faa9d04b92d2d70968',
  clientSecret: 'ad1023eebffeb2972301ce0e730e0c277f64cf23',
  repo: 'MeandNi.github.io',
  owner: 'MeandNi',
  admin: 'MeandNi',
  id: md5(decodeURI(location.pathname)),
  language: 'zh-CN'
})
gitalk.render('gitalk-container')</script></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2018 - 2021 By Joker</div><div class="framework-info"><span>驱动 - </span><a href="#"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody" target="_blank" rel="noopener"><span>Melody</span></a></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.7.0"></script><script src="/js/fancybox.js?version=1.7.0"></script><script src="/js/sidebar.js?version=1.7.0"></script><script src="/js/copy.js?version=1.7.0"></script><script src="/js/fireworks.js?version=1.7.0"></script><script src="/js/transition.js?version=1.7.0"></script><script src="/js/scroll.js?version=1.7.0"></script><script src="/js/head.js?version=1.7.0"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>